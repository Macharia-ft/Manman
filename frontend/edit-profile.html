
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Profile - Takeyours</title>
  <link rel="stylesheet" href="styleguide.css">
  <link rel="stylesheet" href="globals.css">
  <style>
    .edit-profile-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .section {
      margin-bottom: 30px;
      padding: 20px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
    }

    .section h3 {
      margin-top: 0;
      color: #333;
      border-bottom: 2px solid #007BFF;
      padding-bottom: 10px;
    }

    .media-section {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
    }

    .media-item {
      flex: 1;
      min-width: 300px;
    }

    .current-media {
      margin-bottom: 15px;
    }

    .current-photo, .current-video {
      width: 100%;
      max-width: 300px;
      border-radius: 8px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .current-photo:hover, .current-video:hover {
      transform: scale(1.05);
    }

    .update-notice {
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 15px;
      font-size: 0.9em;
      transition: all 0.3s ease;
    }
    
    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background-color: #6c757d;
    }
    
    .btn:disabled:hover {
      background-color: #6c757d;
    }
    
    #cooldownCounter {
      font-weight: bold;
      color: #d32f2f;
    }

    .premium-notice {
      background: #d4edda;
      border: 1px solid #c3e6cb;
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 15px;
      font-size: 0.9em;
    }

    .file-input-container {
      position: relative;
      display: inline-block;
      cursor: pointer;
    }

    .file-input-container input[type="file"] {
      position: absolute;
      opacity: 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
    }

    .file-input-label {
      display: inline-block;
      padding: 10px 20px;
      background: #007BFF;
      color: white;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .file-input-label:hover {
      background: #0056b3;
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }

    input, select {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }

    .btn {
      background-color: #007BFF;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-right: 10px;
    }

    .btn:hover {
      background-color: #0056b3;
    }

    .btn-secondary {
      background-color: #6c757d;
    }

    .btn-secondary:hover {
      background-color: #5a6268;
    }

    .fullscreen-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10000;
    }

    .fullscreen-content {
      max-width: 90%;
      max-height: 90%;
      border-radius: 8px;
    }

    .fullscreen-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
    }

    .spinner-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    .tk-spinner {
      width: 50px;
      height: 50px;
      border: 3px solid #f3f3f3;
      border-top: 3px solid #3498db;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="spinner-overlay" id="spinnerOverlay">
    <div class="tk-spinner"></div>
  </div>

  <div class="edit-profile-container">
    <h2>Edit Profile</h2>
    
    <!-- Media Section -->
    <div class="section">
      <h3>Profile Media</h3>
      <div id="updateNotice" class="update-notice">
        <strong>Update Limitation:</strong> Profile photo and video can only be updated once per month (Premium: once per week). Updates require admin approval.
      </div>
      
      <div class="media-section">
        <div class="media-item">
          <h4>Profile Photo</h4>
          <div class="current-media">
            <img id="currentPhoto" src="https://via.placeholder.com/300?text=No+Photo" alt="Current Photo" class="current-photo" onclick="openFullscreen(this.src, 'image')">
          </div>
          <div class="file-input-container">
            <input type="file" id="profilePhoto" accept="image/*">
            <label for="profilePhoto" class="file-input-label">Update Photo</label>
          </div>
        </div>
        
        <div class="media-item">
          <h4>Profile Video</h4>
          <div class="current-media">
            <video id="currentVideo" class="current-video" controls onclick="openFullscreen(this.src, 'video')">
              <source src="" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
          <div class="file-input-container">
            <input type="file" id="profileVideo" accept="video/*">
            <label for="profileVideo" class="file-input-label">Update Video</label>
          </div>
        </div>
      </div>
    </div>

    <!-- Preferences Section -->
    <div class="section">
      <h3>Preferences</h3>
      <form id="preferencesForm">
        <div class="form-group">
          <label for="pref_gender">Preferred Gender:</label>
          <select id="pref_gender" name="pref_gender" required>
            <option value="">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Any">Any</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_age_min">Minimum Age:</label>
          <input type="number" id="pref_age_min" name="pref_age_min" min="18" max="100" required>
        </div>

        <div class="form-group">
          <label for="pref_age_max">Maximum Age:</label>
          <input type="number" id="pref_age_max" name="pref_age_max" min="18" max="100" required>
        </div>

        <div class="form-group">
          <label for="pref_country_of_birth">Preferred Country of Birth:</label>
          <input type="text" id="pref_country_of_birth" name="pref_country_of_birth">
        </div>

        <div class="form-group">
          <label for="pref_country_of_residence">Preferred Country of Residence:</label>
          <input type="text" id="pref_country_of_residence" name="pref_country_of_residence">
        </div>

        <div class="form-group">
          <label for="pref_county_of_residence">Preferred County of Residence:</label>
          <input type="text" id="pref_county_of_residence" name="pref_county_of_residence">
        </div>

        <div class="form-group">
          <label for="pref_country">Preferred Country:</label>
          <input type="text" id="pref_country" name="pref_country">
        </div>

        <div class="form-group">
          <label for="pref_languages">Preferred Languages:</label>
          <input type="text" id="pref_languages" name="pref_languages" placeholder="e.g., English, Spanish">
        </div>

        <div class="form-group">
          <label for="pref_religion">Preferred Religion:</label>
          <input type="text" id="pref_religion" name="pref_religion">
        </div>

        <div class="form-group">
          <label for="pref_religion_importance">Religion Importance:</label>
          <select id="pref_religion_importance" name="pref_religion_importance">
            <option value="">Select Importance</option>
            <option value="Very Important">Very Important</option>
            <option value="Important">Important</option>
            <option value="Somewhat Important">Somewhat Important</option>
            <option value="Not Important">Not Important</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_height">Preferred Height (cm):</label>
          <input type="number" id="pref_height" name="pref_height" min="100" max="250">
        </div>

        <div class="form-group">
          <label for="pref_weight">Preferred Weight (kg):</label>
          <input type="number" id="pref_weight" name="pref_weight" min="30" max="200">
        </div>

        <div class="form-group">
          <label for="pref_body_type">Preferred Body Type:</label>
          <select id="pref_body_type" name="pref_body_type">
            <option value="">Select Body Type</option>
            <option value="Slim">Slim</option>
            <option value="Athletic">Athletic</option>
            <option value="Average">Average</option>
            <option value="Curvy">Curvy</option>
            <option value="Plus Size">Plus Size</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_skin_color">Preferred Skin Color:</label>
          <input type="text" id="pref_skin_color" name="pref_skin_color">
        </div>

        <div class="form-group">
          <label for="pref_ethnicity">Preferred Ethnicity:</label>
          <input type="text" id="pref_ethnicity" name="pref_ethnicity">
        </div>

        <div class="form-group">
          <label for="pref_diet">Preferred Diet:</label>
          <select id="pref_diet" name="pref_diet">
            <option value="">Select Diet</option>
            <option value="Omnivore">Omnivore</option>
            <option value="Vegetarian">Vegetarian</option>
            <option value="Vegan">Vegan</option>
            <option value="Pescatarian">Pescatarian</option>
            <option value="Keto">Keto</option>
            <option value="Paleo">Paleo</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_smoking">Smoking Preference:</label>
          <select id="pref_smoking" name="pref_smoking">
            <option value="">Select Smoking Preference</option>
            <option value="No">No</option>
            <option value="Socially">Socially</option>
            <option value="Regularly">Regularly</option>
            <option value="Any">Any</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_drinking">Drinking Preference:</label>
          <select id="pref_drinking" name="pref_drinking">
            <option value="">Select Drinking Preference</option>
            <option value="No">No</option>
            <option value="Socially">Socially</option>
            <option value="Regularly">Regularly</option>
            <option value="Any">Any</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_exercise">Exercise Preference:</label>
          <select id="pref_exercise" name="pref_exercise">
            <option value="">Select Exercise Preference</option>
            <option value="Very Active">Very Active</option>
            <option value="Active">Active</option>
            <option value="Moderate">Moderate</option>
            <option value="Low">Low</option>
            <option value="Any">Any</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_pets">Pet Preference:</label>
          <select id="pref_pets" name="pref_pets">
            <option value="">Select Pet Preference</option>
            <option value="Love pets">Love pets</option>
            <option value="Like pets">Like pets</option>
            <option value="No pets">No pets</option>
            <option value="Any">Any</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_children">Children Preference:</label>
          <select id="pref_children" name="pref_children">
            <option value="">Select Children Preference</option>
            <option value="Want children">Want children</option>
            <option value="Have children">Have children</option>
            <option value="Don't want children">Don't want children</option>
            <option value="Any">Any</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_living_situation">Living Situation Preference:</label>
          <select id="pref_living_situation" name="pref_living_situation">
            <option value="">Select Living Situation</option>
            <option value="Own home">Own home</option>
            <option value="Rent">Rent</option>
            <option value="With family">With family</option>
            <option value="With roommates">With roommates</option>
            <option value="Any">Any</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_willing_to_relocate">Willing to Relocate:</label>
          <select id="pref_willing_to_relocate" name="pref_willing_to_relocate">
            <option value="">Select Relocation Preference</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
            <option value="Maybe">Maybe</option>
            <option value="Any">Any</option>
          </select>
        </div>

        <div class="form-group">
          <label for="pref_relationship_type">Relationship Type:</label>
          <select id="pref_relationship_type" name="pref_relationship_type">
            <option value="">Select Relationship Type</option>
            <option value="Serious relationship">Serious relationship</option>
            <option value="Casual dating">Casual dating</option>
            <option value="Friendship">Friendship</option>
            <option value="Marriage">Marriage</option>
            <option value="Any">Any</option>
          </select>
        </div>
      </form>
    </div>

    <div class="form-actions">
      <button type="button" class="btn btn-secondary" onclick="window.location.href='dashboard_page.html'">Back to Dashboard</button>
      <button type="button" class="btn" onclick="updatePreferences()">Update Preferences</button>
      <button type="button" class="btn" onclick="updateMedia()">Update Media</button>
    </div>
  </div>

  <!-- Fullscreen Overlay -->
  <div id="fullscreenOverlay" class="fullscreen-overlay">
    <button class="fullscreen-close" onclick="closeFullscreen()">✕</button>
    <div id="fullscreenContent"></div>
  </div>

  <script src="config.js"></script>
  <script src="edit-profile.js"></script>
</body>
</html>
